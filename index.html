<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AR Portal with 360-degree View</title>

    <!-- A-Frame (for rendering 3D content) -->
    <script src="https://aframe.io/releases/1.2.0/aframe.min.js"></script>
    
    <!-- AR.js for markerless AR -->
    <script src="https://cdn.jsdelivr.net/gh/AR-js-org/AR.js/aframe/build/aframe-ar.js"></script>

    <!-- Optional: WebXR for immersive AR (if supported by the browser) -->
    <script src="https://cdn.jsdelivr.net/npm/@webxr/input-source@0.0.3/dist/index.js"></script>

    <!-- Styling to cover full viewport -->
    <style>
        body, html { margin: 0; padding: 0; height: 100%; }
        canvas { width: 100%; height: 100%; }
    </style>
</head>
<body>
    <!-- AR.js Scene with a 360-degree experience -->
    <a-scene embedded arjs="sourceType: webcam; debugUIEnabled: false;">

        <!-- Assets (360 Image or Video) -->
        <a-assets>
            <!-- 360-degree Image (replace with your own image or video) -->
            <img id="360-image" src="https://upload.wikimedia.org/wikipedia/commons/0/0b/360-degree-image-example.jpg" />
            <!-- 360-degree Video (replace with your own video URL) -->
            <video id="360-video" autoplay loop="true" src="https://www.360cities.net/video/360-video-of-nasa-kennedy-space-center?utm_source=google&utm_medium=organic&utm_campaign=search" crossorigin="anonymous"></video>
        </a-assets>

        <!-- Fixed Portal Box -->
        <a-box position="0 1.5 -4" rotation="0 45 0" depth="0.1" height="2.5" width="2.5" color="#ffffff" opacity="0.5">
            <!-- Portal Frame: Transparent box -->
            <a-plane position="0 0 0.5" rotation="0 0 0" width="2" height="2" material="color: white; transparent: true; opacity: 0.5;">
                <!-- 360 Image inside the Portal -->
                <a-sky src="#360-image" rotation="0 -90 0"></a-sky>
            </a-plane>
        </a-box>

        <!-- Camera for viewing the AR scene -->
        <a-camera position="0 1.6 0"></a-camera>

    </a-scene>

    <script>
        // WebXR (for AR support)
        if (navigator.xr) {
            navigator.xr.requestSession('immersive-ar').then(function(session) {
                session.addEventListener('end', function() {
                    alert('AR session ended');
                });

                // Optional: Set up interaction using WebXR
                document.body.appendChild(session.domElement);
            });
        }
    </script>
</body>
</html>
